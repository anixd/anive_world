<% content_for :title, @location.title %>

<%= render 'pub/shared/search_block' %>

<div class="bg-white p-6 md:p-8 rounded-lg shadow-md space-y-6">
  <%= render 'pub/shared/content_header', back_path: pub_locations_path, back_path_text: 'Back to all locations', record: @location %>

  <header class="border-b pb-4">
    <h1 class="text-4xl font-bold text-gray-900"><%= @location.title %></h1>
    <% if @location.parent_location %>
      <p class="text-sm text-gray-500 mt-2">
        Part of: <%= link_to @location.parent_location.title, pub_location_path(@location.parent_location), class: "text-blue-600 hover:underline" %>
      </p>
    <% end %>
  </header>

  <div class="prose max-w-none" data-controller="wikilink-preview">
    <%= render_markdown(@location.body) %>
  </div>

  <div class="border-t pt-6">
    <%= render 'pub/shared/content_header', back_path: pub_locations_path, back_path_text: 'Back to all locations', record: @location %>
  </div>
</div>

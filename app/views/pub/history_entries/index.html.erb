<% content_for :title, "History" %>

<div class="bg-white p-6 rounded-lg shadow-md">
  <div class="border-b pb-4 mb-6">
    <h1 class="text-3xl font-bold">History of the World</h1>
  </div>

  <% if @history_entries.any? %>
    <div class="flex flex-col gap-3">
      <% @history_entries.each do |entry| %>
        <%= link_to pub_history_entry_path(entry), class: "block p-4 bg-white shadow rounded-lg border hover:border-blue-400 group" do %>
          <div class="flex items-baseline gap-4">
            <span class="font-mono text-sm text-gray-500 w-24 flex-shrink-0"><%= entry.display_date.presence || "Undated" %></span>
            <h2 class="text-xl font-semibold text-blue-700 group-hover:underline">
              <%= entry.title %>
            </h2>
          </div>
        <% end %>
      <% end %>
    </div>

    <% if @pagy.pages > 1 %>
      <div class="mt-8"><%== pagy_nav(@pagy) %></div>
    <% end %>
  <% else %>
    <p class="text-gray-500 italic">There are no published historical entries yet.</p>
  <% end %>
</div>

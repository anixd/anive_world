<% content_for :title, "Affix: #{@affix.text}" %>

<%= render 'pub/shared/search_block' %>

<div class="bg-white p-6 md:p-8 rounded-lg shadow-md">
  <div class="mb-6">
    <%= render 'pub/shared/breadcrumbs', crumbs: [
      { title: "Languages", path: pub_languages_path },
      { title: @language.name, path: pub_language_path(@language) },
      { title: "Word-building", path: pub_language_word_building_path(@language, tab: "affixes") },
      { title: @affix.text }
    ] %>
  </div>

  <header class="border-b pb-4 mb-6">
    <div class="flex items-baseline gap-4">
      <h1 class="text-4xl font-bold font-mono text-gray-900"><%= @affix.text %></h1>
      <span class="px-3 py-1 text-sm leading-5 font-semibold rounded-full bg-gray-100 text-gray-800">
        <%= @affix.affix_type %>
      </span>
    </div>
    <p class="mt-1 text-gray-600">An affix in <%= @language.name %></p>
  </header>

  <div class="prose max-w-none mb-6" data-controller="wikilink-preview">
    <%= render_markdown(@affix.meaning.presence || "No meaning provided.") %>
  </div>

  <%= render 'shared/etymology_spoiler', etymologizable: @affix %>

  <div class="border-t pt-6 mt-8">
    <%= link_to "← Back to Word-building", pub_language_word_building_path(@language, tab: "affixes"), class: "text-blue-600 hover:underline" %>
  </div>
</div>

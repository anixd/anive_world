<% content_for :title, "Characters" %>

<%= render 'pub/shared/search_block' %>

<div class="bg-white p-6 rounded-lg shadow-md">
  <div class="mb-6">
    <%= render 'pub/shared/breadcrumbs', crumbs: [
      { title: "Lore" },
      { title: "Characters" }
    ] %>
  </div>

  <div class="border-b pb-4 mb-6">
    <h1 class="text-3xl font-bold">Characters</h1>
  </div>

  <% if @characters.any? %>
    <div class="flex flex-col gap-3">
      <% @characters.each do |character| %>
        <%= link_to pub_character_path(character), class: "block p-4 bg-white shadow rounded-lg border hover:border-blue-400 group" do %>
          <h2 class="text-xl font-semibold text-blue-700 group-hover:underline">
            <%= character.title %>
          </h2>
          <div class="mt-3">
            <%= render 'pub/shared/tags_list', record: character %>
          </div>
        <% end %>
      <% end %>
    </div>

    <% if @pagy.pages > 1 %>
      <div class="mt-8"><%== pagy_nav(@pagy) %></div>
    <% end %>
  <% else %>
    <p class="text-gray-500 italic">There are no published characters yet.</p>
  <% end %>
</div>

<% content_for :title, @grammar_rule.title %>

<div class="bg-white p-6 md:p-8 rounded-lg shadow-md space-y-6">
  <div class="mb-6">
    <%= render 'pub/shared/breadcrumbs', crumbs: [
      { title: "Languages", path: pub_languages_path },
      { title: @grammar_rule.language.name, path: pub_language_path(@grammar_rule.language) },
      { title: "Grammar & Phonology", path: pub_language_grammar_path(@grammar_rule.language) },
      { title: @grammar_rule.title }
    ] %>
  </div>

  <%= render 'pub/shared/content_header',
             back_path: pub_language_grammar_path(@grammar_rule.language),
             back_path_text: 'Back to Grammar & Phonology',
             record: @grammar_rule %>

  <header class="border-b pb-4">
    <h1 class="text-4xl font-bold text-gray-900"><%= @grammar_rule.title %></h1>
    <p class="text-sm text-gray-500 mt-2">
      Grammar rule for <%= link_to @grammar_rule.language.name, pub_language_path(@grammar_rule.language), class: "text-blue-600 hover:underline" %>
    </p>
  </header>

  <div class="prose max-w-none" data-controller="wikilink-preview">
    <%= render_markdown(@grammar_rule.body) %>
  </div>

  <div class="border-t pt-6">
    <%= render 'pub/shared/content_header',
               back_path: pub_language_grammar_path(@grammar_rule.language),
               back_path_text: 'Back to Grammar & Phonology',
               record: @grammar_rule %>
  </div>
</div>
